---
import { getCollection } from 'astro:content'
import Layout from '../../layouts/Layout.astro'
import PageStandard from '../../layouts/PageStandard.astro'
import Container from '../../components/Container.astro'
import PageHeading from '../../components/PageHeading.astro'

const postEntries = await getCollection('posts')
---

<Layout title="Blog | Agathist">
  <PageStandard>
    <Container>
      <div class="flex flex-col gap-8">
        <PageHeading>Blog</PageHeading>

        <div class="font-serif text-2xl">Recent posts</div>

        <div>
          {
            postEntries.length ? (
              postEntries.map((entry) => (
                <a
                  class="-ml-8 block rounded p-8 hover:bg-white/10 lg:w-3/4"
                  href={`/blog/${entry.slug}`}
                >
                  <div class="flex flex-col gap-2">
                    <div class="text-3xl font-bold text-pink-500">
                      {entry.data.title}
                    </div>
                    <div class="text-2xl text-gray-200">
                      {entry.data.description}
                    </div>
                  </div>
                </a>
              ))
            ) : (
              <div>No posts yet!</div>
            )
          }
        </div>
      </div>
    </Container>
  </PageStandard>
</Layout>
